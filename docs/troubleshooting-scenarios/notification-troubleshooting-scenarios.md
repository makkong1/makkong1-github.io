# Notification 도메인 트러블슈팅 시나리오

## 발생 가능한 문제 상황들

### 1. SSE 연결 누수
- **시나리오**: SSE 연결 종료 시 연결 리소스 정리 누락
- **재현 방법**: SSE 연결 후 연결 종료 시 리소스 확인
- **예상 증상**: 메모리 사용량 증가, 연결 누수

### 2. 알림 발송 실패 시 재시도 없음
- **시나리오**: 알림 발송 중 예외 발생 시 재시도 없음
- **재현 방법**: 알림 발송 중 예외 발생
- **예상 증상**: 알림이 발송되지 않아도 재시도 없음

### 3. 읽지 않은 알림 수 조회 성능 저하
- **시나리오**: 읽지 않은 알림 수 조회 시 매번 COUNT 쿼리 실행
- **재현 방법**: 알림 수 조회 API 호출 시 쿼리 확인
- **예상 증상**: 매번 COUNT 쿼리 발생, 응답 시간 증가

### 4. 알림 목록 조회 시 페이징 처리 누락
- **시나리오**: 알림 목록 조회 시 모든 알림을 한 번에 조회
- **재현 방법**: 알림이 많을 때 목록 조회
- **예상 증상**: 응답 시간 증가, 메모리 사용량 증가

### 5. 알림 읽음 처리 시 동시성 문제
- **시나리오**: 여러 기기에서 동시에 알림 읽음 처리 시도
- **재현 방법**: 동시에 알림 읽음 처리 API 호출
- **예상 증상**: 읽음 처리 불일치

### 6. 알림 삭제 시 실제 데이터 삭제
- **시나리오**: 알림 삭제 시 실제 데이터 삭제로 인한 통계 손실
- **재현 방법**: 알림 삭제 후 통계 확인
- **예상 증상**: 통계 데이터 손실

### 7. 알림 발송 시 중복 발송
- **시나리오**: 같은 알림을 여러 번 발송
- **재현 방법**: 알림 발송 로직 확인
- **예상 증상**: 중복 알림 발송

### 8. 알림 타입별 발송 로직 누락
- **시나리오**: 알림 타입별 발송 로직이 없어 모든 알림을 동일하게 처리
- **재현 방법**: 다양한 알림 타입 발송 시도
- **예상 증상**: 알림 타입별 특화 처리 누락

