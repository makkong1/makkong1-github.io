# Missing Pet 도메인 트러블슈팅 시나리오

## 발생 가능한 문제 상황들

### 1. 위치 기반 검색 성능 저하
- **시나리오**: 위치 기반 검색 시 모든 실종 동물을 조회한 후 거리 계산하여 필터링
- **재현 방법**: 실종 동물이 많을수록 검색 성능 저하
- **예상 증상**: 검색 응답 시간 증가, 전체 테이블 스캔

### 2. 실종 동물 목록 조회 N+1 문제
- **시나리오**: 실종 동물 목록 조회 시 각 실종 동물의 신고자, 사진을 개별 쿼리로 조회
- **재현 방법**: 실종 동물 목록 조회 시 로그 확인
- **예상 증상**: 실종 동물마다 연관 데이터 조회 쿼리 발생

### 3. 실종 동물 상태 업데이트 누락
- **시나리오**: 실종 동물을 찾았을 때 상태 업데이트 누락
- **재현 방법**: 실종 동물을 찾았을 때 상태 확인
- **예상 증상**: 계속 MISSING 상태로 표시

### 4. 실종 동물 검색 시 인덱스 미사용
- **시나리오**: 실종 동물 검색 시 위치 인덱스 미사용
- **재현 방법**: 위치 기반 검색 API 호출 시 쿼리 실행 계획 확인
- **예상 증상**: 전체 테이블 스캔, 성능 저하

### 5. 실종 동물 등록 시 위치 정보 검증 누락
- **시나리오**: 실종 동물 등록 시 유효한 위치 정보인지 확인하지 않음
- **재현 방법**: 잘못된 위치 정보로 등록 시도
- **예상 증상**: 잘못된 위치 정보로 등록 가능

### 6. 실종 동물 삭제 시 연관 데이터 처리 누락
- **시나리오**: 실종 동물 삭제 시 사진 등 연관 데이터 미처리
- **재현 방법**: 실종 동물 삭제 후 연관 데이터 확인
- **예상 증상**: 삭제된 실종 동물의 사진이 남아있음

### 7. 실종 동물 수정 시 권한 검증 누락
- **시나리오**: 실종 동물 수정 시 작성자 확인 없이 수정 가능
- **재현 방법**: 다른 사용자가 작성한 실종 동물 수정 시도
- **예상 증상**: 권한 없이 수정 가능

### 8. 실종 동물 목록 조회 시 페이징 처리 누락
- **시나리오**: 실종 동물 목록 조회 시 모든 데이터를 한 번에 조회
- **재현 방법**: 실종 동물이 많을 때 목록 조회
- **예상 증상**: 응답 시간 증가, 메모리 사용량 증가

