# 펫케어 거래·가격 정책 설계

## 📋 서비스 전제

**핵심 원칙:**
- 펫케어 **중개 플랫폼** (가격 결정자 아님)
- **자유 시장 구조** + 운영자 가이드 제공 모델
- 플랫폼은 적정 가격 판단을 돕는 역할만 수행

**펫코인 시스템:**
본 서비스에서는 펫케어 거래를 위해 **'펫코인'**이라는 내부 결제 단위를 사용합니다. 가격은 보호자가 직접 설정하되, 비정상적인 가격을 방지하기 위해 최소 코인 제한과 조건별 추천 가이드를 제공합니다. 이를 통해 자유 시장 구조를 유지하면서도 거래 신뢰도를 확보하는 것을 목표로 했습니다.

## 🎯 가격 정책 목표

### 문제 인식
- 신규 유저는 적정 시세를 알기 어려움
- 가격이 너무 자유로우면: 저가 덤핑, 시터 이탈, 신뢰도 하락
- 가격을 고정하면: 유연성 상실, 사용자 반발

### 해결 방향
**가격은 사용자에게 맡기되, 플랫폼은 "정상 범위"를 지속적으로 제시**

## 💰 가격 입력 구조

### 1. 사용자 가격 입력 (자유)
- 보호자가 직접 코인 가격 입력
- 강제 고정 가격 없음

### 2. 최소 코인 제한 (서버 강제)
- 시간당 최소 코인 설정으로 비정상적으로 낮은 가격 방지
- 예시:
  - 1시간 = 최소 20코인
  - 8시간 = 최소 160코인
- 추가 가중치:
  - 대형견: +30%
  - 다마리/고위험 케이스: 추가 가중 가능
- **서버 validation으로 처리**

## 📊 가격 가이드라인 제공 (UX 핵심)

### 조건 기반 추천 범위 노출
**추천 기준:**
- 돌봄 시간
- 펫 종류 (강아지 / 고양이)
- 크기 (소형 / 중형 / 대형)
- 지역

**예시:**
```
"8시간 / 대형견 / 서울 기준
추천 범위: 180 ~ 260 코인"
```

> 📌 가이드는 참고용, 강제 아님

## 📈 평균 시세 및 최근 거래 정보 노출

**사용자 판단을 돕는 데이터 제공:**
- "이 조건의 평균 거래 코인: 200"
- "최근 유사 요청 거래 범위: 150 ~ 250"

**목적:**
- 가격 신뢰도 확보
- 보호자/시터 모두에게 심리적 기준점 제공

## 🔒 가격 수정 제한 정책

**분쟁 방지를 위한 안전 장치:**
- 요청 등록 후 N시간 내 1회 수정 가능
- 지원자가 1명 이상 발생하면 가격 수정 불가

> 👉 거래 안정성 및 공정성 확보

## 🚀 운영 전략

### 초기 (거래 데이터 부족)
- 운영자가 기준 시세 데이터 수동 관리
- 오프라인 시세를 참고한 가이드라인 제공

### 중·후기 (데이터 축적 후)
- 실제 거래 데이터 기반 평균/분위수 계산
- 추천 가격 자동 산출
- 운영자 개입 최소화

## 🔮 도메인 확장 고려

**확장 가능 요소 (구현은 X, 설계만 O):**
- 시터 경력/자격증 → 등급 시스템
- 특수 동물(파충류 등) → 별도 카테고리 정책
- 장소(방문/위탁) → 가중치 적용

> 📌 포인트: 모든 변수를 구현하지 않고 구조적으로 확장 가능하도록 설계

## 💡 설계의 핵심 가치

| 관점 | 효과 |
|------|------|
| 보호자 | 적정 가격 판단 가능 |
| 시터 | 덤핑 방지 |
| 플랫폼 | 중립적 신뢰자 포지션 |

## 💳 펫코인 거래 흐름

### 1. 코인 충전
- 요청자(보호자)가 펫코인을 충전
- 충전 방식: 실제 결제 시스템 연동 (향후 구현 / 당장은 다른방식을 대체)

### 2. 요청 생성
- 보호자가 펫케어 요청 작성
- 제시할 코인 가격 설정 (최소 코인 제한 적용)
- 상태: `OPEN`

### 3. 지원 및 채팅
- 제공자들이 지원 (`CareApplication` - `PENDING` 상태)
- 채팅방에서 상세 조건 협의

### 4. 거래 확정 (코인 차감)
- 양쪽 모두 거래 확정 시:
  - `CareApplication`: `PENDING` → `ACCEPTED`
  - `CareRequest`: `OPEN` → `IN_PROGRESS`
  - **요청자 코인 차감** → 에스크로(임시 보관) 상태로 전환

### 5. 서비스 진행
- `IN_PROGRESS` 상태로 실제 펫케어 서비스 진행

### 6. 거래 완료 (코인 지급)
- 날짜 경과 또는 수동 완료 처리 시:
  - `CareRequest`: `IN_PROGRESS` → `COMPLETED`
  - **에스크로된 코인을 제공자에게 지급**

### 7. 리뷰 작성
- `ACCEPTED` 상태의 `CareApplication`에 대해 리뷰 작성 가능
- 요청자가 제공자에게 리뷰 작성

**상태 흐름 요약:**
- `CareRequest`: `OPEN` → `IN_PROGRESS` → `COMPLETED`
- `CareApplication`: `PENDING` → `ACCEPTED`
- 코인: 충전 → 차감(에스크로) → 제공자 지급

## 🎓 포트폴리오 관점

- 단순 CRUD가 아닌 **시장 설계 문제 해결**
- 도메인 특성을 이해하고 기술로 풀어낸 사례
- 정책 → UX → 서버 로직으로 이어지는 설계 흐름

---

## ✨ 한 줄 요약

**"가격을 통제하지 않되, 판단 기준을 제공하는 펫케어 중개 플랫폼 구조를 설계했다."**
