# ê²€ìƒ‰ ì „ëµ ê°œì„ : ìœ„ì¹˜ ê¸°ë°˜ â†’ ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ì „í™˜

## ğŸ“‹ ë¬¸ì œ ìƒí™©

### 1. ê²€ìƒ‰ ê¸°ì¤€ì  ë¶ˆì¼ì¹˜ ë¬¸ì œ

**í˜„ì¬ êµ¬í˜„**:
- ì´ˆê¸° ë¡œë“œ: ë‚´ ìœ„ì¹˜ ê¸°ì¤€ 5km ë°˜ê²½ ê²€ìƒ‰
- ì§€ë„ ì´ë™ í›„ ê²€ìƒ‰: ìƒˆë¡œìš´ ìœ„ì¹˜ ê¸°ì¤€ 5km ë°˜ê²½ ê²€ìƒ‰
- ê²°ê³¼: ì´ì „ì— ë³¸ ì„œë¹„ìŠ¤ê°€ ì‚¬ë¼ì ¸ ì¼ê´€ì„± ë¶€ì¡±

**ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ**:
```
1. ì´ˆê¸° ë¡œë“œ: ë‚´ ìœ„ì¹˜(ì„œìš¸ ê°•ë‚¨êµ¬) ê¸°ì¤€ 5km ë°˜ê²½ ê²€ìƒ‰
   â†’ ê°•ë‚¨êµ¬, ì„œì´ˆêµ¬ ì¼ë¶€ ì„œë¹„ìŠ¤ í‘œì‹œ

2. ì‚¬ìš©ìê°€ ì§€ë„ë¥¼ ì„œì´ˆêµ¬ë¡œ ì´ë™

3. "ì´ ì§€ì—­ ê²€ìƒ‰" ë²„íŠ¼ í´ë¦­
   â†’ ì„œì´ˆêµ¬ ì¤‘ì‹¬ ê¸°ì¤€ 5km ë°˜ê²½ ê²€ìƒ‰
   â†’ ê°•ë‚¨êµ¬ ì„œë¹„ìŠ¤ëŠ” ì‚¬ë¼ì§€ê³  ì„œì´ˆêµ¬ ì„œë¹„ìŠ¤ë§Œ í‘œì‹œ

4. ì‚¬ìš©ì í˜¼ë€: "ì•„ê¹Œ ë³¸ ê°•ë‚¨êµ¬ ì„œë¹„ìŠ¤ê°€ ì–´ë”” ê°”ì§€?"
```

### 2. ì„±ëŠ¥ ì´ìŠˆ

**í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ì˜ ì„±ëŠ¥ ë¬¸ì œ**:
- ST_Distance_Sphere ì¿¼ë¦¬ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜
- ë³µì¡í•œ ì§€ë¦¬ì  ê³„ì‚°ìœ¼ë¡œ ì¸ë±ìŠ¤ í™œìš© ì–´ë ¤ì›€
- ê²€ìƒ‰ ê¸°ì¤€ì ì´ ë§¤ë²ˆ ë°”ë€Œì–´ ì¼ê´€ì„± ë¶€ì¡±

**ì‹¤ì œ ì¸¡ì •ê°’ ë¹„êµ** (2025-12-26):

| ê²€ìƒ‰ ë°©ì‹ | ì¿¼ë¦¬ ì‹œê°„ | ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | ì»¨íŠ¸ë¡¤ëŸ¬ ì²˜ë¦¬ ì‹œê°„ | ì¡°íšŒ ë ˆì½”ë“œ ìˆ˜ | íŠ¹ì§• |
|---------|---------|-------------|----------------|------------|------|
| **ìœ„ì¹˜ ê¸°ë°˜** (ST_Distance_Sphere) | 198-368ms | 202-408ms | 202-412ms | 295ê°œ | ëŠë¦¬ê³  ì¼ê´€ì„± ë¬¸ì œ |
| **ì‹œêµ°êµ¬ ë‹¨ìœ„** (WHERE ì¡°ê±´) | **36-53ms** âœ… | **45-66ms** âœ… | **49-68ms** âœ… | 142-170ê°œ | **ì•½ 5-6ë°° ë¹ ë¦„** |
| ì‹œë„ ë‹¨ìœ„ (ì°¸ê³ , 2025-12-25) | 986-990ms âš ï¸ | 1,016-1,038ms | - | 22,699ê°œ | ëŒ€ëŸ‰ ë°ì´í„°ë¡œ ëŠë¦¼ |

**ê²°ë¡ **: ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ì´ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ë³´ë‹¤ **ì•½ 5-6ë°° ë¹ ë¥´ê³ ** ì¼ê´€ì„±ë„ ìš°ìˆ˜í•¨

### 3. êµ¬í˜„ ë³µì¡ë„

**í˜„ì¬ êµ¬í˜„**:
- ê²€ìƒ‰ ê¸°ì¤€ì  ì¶”ì  ë¡œì§ ë³µì¡
- ì˜ì—­ í™•ì¥ ë¡œì§ í•„ìš”
- ìƒíƒœ ê´€ë¦¬ ë³µì¡

---

## ğŸ¯ í•´ê²° ë°©í–¥

### í•µì‹¬ ì›ì¹™

> **ì§€ë„ì™€ ê²€ìƒ‰ ê¸°ì¤€ì€ ì‹œêµ°êµ¬ê¹Œì§€**  
> **ìë©´ë™ì€ ì •ë°€ í•„í„°ë¡œë§Œ ì‚¬ìš©**  
> **ìë©´ë™ ì¢Œí‘œ/ê²½ê³„ëŠ” ì ˆëŒ€ ë“¤ê³  ê°€ì§€ ë§ ê²ƒ**

### 1. ê²€ìƒ‰ ê¸°ì¤€: ì‹œë„/ì‹œêµ°êµ¬ê¹Œì§€

**êµ¬í˜„ ë°©ì‹**:
- ì´ˆê¸° ë¡œë“œ: ë‚´ ìœ„ì¹˜ â†’ ì—­ì§€ì˜¤ì½”ë”© â†’ ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ â†’ ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰
- ì§€ë„ ì´ë™ í›„ ê²€ìƒ‰: ì§€ë„ ì¤‘ì‹¬ ì¢Œí‘œ â†’ ì—­ì§€ì˜¤ì½”ë”© â†’ ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ â†’ ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰
- WHERE ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒ (ì¸ë±ìŠ¤ í™œìš©, ì„±ëŠ¥ í–¥ìƒ)

**ì¥ì **:
- âœ… ê²€ìƒ‰ ê²°ê³¼ ì¼ê´€ì„± (ì‹œë„/ì‹œêµ°êµ¬ë¡œ í™•ì •)
- âœ… ì„±ëŠ¥ ìš°ìˆ˜ (ì¸ë±ìŠ¤ í™œìš©, ì‹¤ì œ ì¸¡ì • 36-53ms ì¿¼ë¦¬, 49-68ms ì „ì²´ ì²˜ë¦¬)
- âœ… êµ¬í˜„ ë‹¨ìˆœ (WHERE ì¡°ê±´ë§Œ)
- âœ… ì‚¬ìš©ì ì´í•´ ì‰¬ì›€ ("ì„œìš¸ ê°•ë‚¨êµ¬" ê²€ìƒ‰)

### 2. ìë©´ë™: ì •ë°€ í•„í„°ë¡œë§Œ ì‚¬ìš©

**êµ¬í˜„ ë°©ì‹**:
- DB ì¿¼ë¦¬ì—ì„œ ì œì™¸
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í•„í„°ë§ë§Œ
- ìë©´ë™ ì¢Œí‘œ/ê²½ê³„ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

**ì´ìœ **:
- ìë©´ë™ ê²½ê³„ê°€ ë³µì¡í•˜ê³  ë¶ˆëª…í™•
- DB ì¿¼ë¦¬ë¡œ ì‚¬ìš©í•˜ë©´ ë¹„íš¨ìœ¨ì 
- í”„ë¡ íŠ¸ì—”ë“œ í•„í„°ë§ìœ¼ë¡œ ì¶©ë¶„

### 3. ê±°ë¦¬ ê³„ì‚°: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì²˜ë¦¬ (ë³´ì¡° ê¸°ëŠ¥)

**êµ¬í˜„ ë°©ì‹**:
- ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰ í›„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê±°ë¦¬ ê³„ì‚° (í‘œì‹œìš©)
- ê±°ë¦¬ìˆœ ì •ë ¬ë„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì²˜ë¦¬

**ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ì˜ ì—­í• **:
- âŒ **DB ì¿¼ë¦¬ì—ì„œ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰(ST_Distance_Sphere) ì‚¬ìš©í•˜ì§€ ì•ŠìŒ**
- âœ… **í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê±°ë¦¬ ê³„ì‚°ë§Œ ì‚¬ìš© (í‘œì‹œìš©, ë³´ì¡° ê¸°ëŠ¥)**
- âœ… **ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ê²€ìƒ‰ì´ ì£¼ ê²€ìƒ‰ ë°©ì‹**

**ì´ìœ **:
- DB ë¶€ë‹´ ê°ì†Œ (ST_Distance_Sphere ì¿¼ë¦¬ ì œê±°)
- ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ì¤€ ê±°ë¦¬ ì •ë³´ ì œê³µ ê°€ëŠ¥ (í”„ë¡ íŠ¸ì—”ë“œ ê³„ì‚°)
- ì„±ëŠ¥ í–¥ìƒ (ì¸ë±ìŠ¤ í™œìš© WHERE ì¡°ê±´ë§Œ ì‚¬ìš©)

---

## ğŸ“Š ì „ëµ ë¹„êµ

### ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ (í˜„ì¬) vs ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ê²€ìƒ‰ (ê°œì„ )

| í•­ëª© | ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ (í˜„ì¬) | ì‹œë„ ë‹¨ìœ„ ê²€ìƒ‰ | ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ (ê°œì„ ) |
|------|---------------------|-------------|----------------------|
| ì¿¼ë¦¬ ë°©ì‹ | ST_Distance_Sphere (ë³µì¡) | WHERE sido = ? | WHERE sigungu = ? |
| ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ | 198-368ms | 986-990ms âš ï¸ | **36-53ms** âœ… |
| ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | 202-408ms | 1,016-1,038ms | **45-66ms** âœ… |
| ì»¨íŠ¸ë¡¤ëŸ¬ ì²˜ë¦¬ ì‹œê°„ | 202-412ms | - | **49-68ms** âœ… |
| ì¡°íšŒ ë ˆì½”ë“œ ìˆ˜ | 295ê°œ (ë°˜ê²½ ë‚´) | 22,699ê°œ (ì‹œë„ ì „ì²´) | 142-170ê°œ (ì‹œêµ°êµ¬ ë‹¨ìœ„) |
| DTO ë³€í™˜ ì‹œê°„ | 0-22ms | 9ms | 0ms |
| ì¼ê´€ì„± | âŒ ê²€ìƒ‰ ê¸°ì¤€ì ì´ ë§¤ë²ˆ ë°”ë€œ | âœ… ì‹œë„ë¡œ í™•ì • | âœ… ì‹œêµ°êµ¬ë¡œ í™•ì • |
| êµ¬í˜„ ë³µì¡ë„ | ë†’ìŒ (ì˜ì—­ í™•ì¥ ë¡œì§) | ë‚®ìŒ (ì—­ì§€ì˜¤ì½”ë”© í›„ ì¡°íšŒ) | ë‚®ìŒ (ì—­ì§€ì˜¤ì½”ë”© í›„ ì¡°íšŒ) |
| ì‚¬ìš©ì ì´í•´ | "5km ë°˜ê²½" (ëª¨í˜¸í•¨) | "ì„œìš¸íŠ¹ë³„ì‹œ" (ëª…í™•í•¨) | "ì„œìš¸ ê°•ë‚¨êµ¬" (ëª…í™•í•¨) |
| ì¸ë±ìŠ¤ í™œìš© | ì–´ë ¤ì›€ | ê°€ëŠ¥ | ê°€ëŠ¥ |

**ì„±ëŠ¥ ë¶„ì„**:
- âœ… **ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰: 36-53ms (ì¿¼ë¦¬), 45-66ms (ì „ì²´), 49-68ms (ì»¨íŠ¸ë¡¤ëŸ¬)** - ê°€ì¥ ë¹ ë¥´ê³  íš¨ìœ¨ì 
- âš ï¸ **ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰: 198-368ms (ì¿¼ë¦¬), 202-408ms (ì „ì²´), 202-412ms (ì»¨íŠ¸ë¡¤ëŸ¬)** - ëŠë¦¬ê³  ì¼ê´€ì„± ë¬¸ì œ
- âš ï¸ **ì‹œë„ ë‹¨ìœ„ ê²€ìƒ‰: 986-990ms** - ëŠë¦¼ (ëŒ€ëŸ‰ ë°ì´í„°, ì°¸ê³ ìš©)
- **ê²°ë¡ **: ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ì´ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ë³´ë‹¤ **ì•½ 5-6ë°° ë¹ ë¥´ê³ ** ì¼ê´€ì„±ë„ ìš°ìˆ˜í•¨

---

## ğŸ”§ êµ¬í˜„ ë°©ì•ˆ

### 1. ì´ˆê¸° ë¡œë“œ

**í˜„ì¬**:
```javascript
// ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰
const response = await locationServiceApi.searchPlaces({
  latitude: location.lat,
  longitude: location.lng,
  radius: 5000,
});
```

**ê°œì„ **:
```javascript
// 1. ë‚´ ìœ„ì¹˜ë¥¼ ì—­ì§€ì˜¤ì½”ë”©í•˜ì—¬ ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ
const addressData = await geocodingApi.coordinatesToAddress(
  location.lat,
  location.lng
);

// 2. ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ
const sido = extractSido(addressData.address); // "ì„œìš¸íŠ¹ë³„ì‹œ"
const sigungu = extractSigungu(addressData.address); // "ê°•ë‚¨êµ¬"

// 3. ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ê²€ìƒ‰
const response = await locationServiceApi.searchPlaces({
  sido: sido,
  sigungu: sigungu,
});

// 4. ê±°ë¦¬ ê³„ì‚°ì€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ (í‘œì‹œìš©)
const servicesWithDistance = response.data.services.map(service => ({
  ...service,
  distance: calculateDistance(location, service),
}));
```

### 2. ì§€ë„ ì´ë™ í›„ ê²€ìƒ‰ ("ì´ ì§€ì—­ ê²€ìƒ‰" ë²„íŠ¼)

**í˜„ì¬**:
```javascript
// ìƒˆë¡œìš´ ìœ„ì¹˜ ê¸°ì¤€ ë°˜ê²½ ê²€ìƒ‰ (ST_Distance_Sphere ì‚¬ìš©)
fetchServices({
  latitude: pendingSearchLocation.lat,
  longitude: pendingSearchLocation.lng,
  radius: 5000,
});
```

**ê°œì„ **:
```javascript
// 1. ì§€ë„ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ì—­ì§€ì˜¤ì½”ë”©
const addressData = await geocodingApi.coordinatesToAddress(
  pendingSearchLocation.lat,
  pendingSearchLocation.lng
);

// 2. ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ
const sido = extractSido(addressData.address);
const sigungu = extractSigungu(addressData.address);

// 3. ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ê²€ìƒ‰ (ì£¼ ê²€ìƒ‰ ë°©ì‹)
fetchServices({
  sido: sido,
  sigungu: sigungu,
});

// 4. ê±°ë¦¬ ê³„ì‚°ì€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ (í‘œì‹œìš©, ë³´ì¡° ê¸°ëŠ¥)
const servicesWithDistance = response.data.services.map(service => ({
  ...service,
  distance: calculateDistance(pendingSearchLocation, service),
}));
```

**ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ì˜ ì—­í• **:
- âŒ **DB ì¿¼ë¦¬ì—ì„œ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰(ST_Distance_Sphere) ì‚¬ìš©í•˜ì§€ ì•ŠìŒ**
- âœ… **í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê±°ë¦¬ ê³„ì‚°ë§Œ ì‚¬ìš© (í‘œì‹œìš©, ë³´ì¡° ê¸°ëŠ¥)**
- âœ… **ì‹œë„/ì‹œêµ°êµ¬ ê¸°ë°˜ ê²€ìƒ‰ì´ ì£¼ ê²€ìƒ‰ ë°©ì‹**

### 3. ìë©´ë™ í•„í„°ë§

**êµ¬í˜„**:
```javascript
// í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í•„í„°ë§ë§Œ
const filteredServices = services.filter(service => {
  if (selectedEupmyeondong && service.eupmyeondong !== selectedEupmyeondong) {
    return false;
  }
  return true;
});
```

**ì£¼ì˜ì‚¬í•­**:
- âŒ ìë©´ë™ ì¢Œí‘œ/ê²½ê³„ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- âŒ DB ì¿¼ë¦¬ì—ì„œ ìë©´ë™ ì¡°ê±´ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- âœ… í”„ë¡ íŠ¸ì—”ë“œ í•„í„°ë§ë§Œ ì‚¬ìš©

### 4. ë°±ì—”ë“œ ì¿¼ë¦¬ ìµœì í™”

**í˜„ì¬**:
```java
// ST_Distance_Sphere ì¿¼ë¦¬ (ë³µì¡)
List<LocationService> findByRadius(Double latitude, Double longitude, Double radiusInMeters);
```

**ê°œì„ **:
```java
// ë‹¨ìˆœ WHERE ì¡°ê±´ (ì¸ë±ìŠ¤ í™œìš©)
List<LocationService> findBySidoAndSigungu(String sido, String sigungu);

// ì¸ë±ìŠ¤ ì¶”ê°€ (í•„ìˆ˜)
CREATE INDEX idx_sido_sigungu ON locationservice(sido, sigungu);
```

**ì„±ëŠ¥ ìµœì í™”**:
- ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ì€ ì¸ë±ìŠ¤ í™œìš©ìœ¼ë¡œ ë§¤ìš° ë¹ ë¦„ (36-53ms ì¿¼ë¦¬, 49-68ms ì „ì²´ ì²˜ë¦¬)
- ì‹œë„ ë‹¨ìœ„ ê²€ìƒ‰ì€ ëŒ€ëŸ‰ ë°ì´í„°ë¡œ ì¸í•´ ëŠë¦¼ (986-990ms, ì°¸ê³ ìš©)
- **ì¸ë±ìŠ¤ ì¶”ê°€ ê¶Œì¥**: `CREATE INDEX idx_sido_sigungu ON locationservice(sido, sigungu);`

---

## âœ… ì‹¤ì œ ì¸¡ì •ê°’ ë° ì„±ëŠ¥ ë¹„êµ (2025-12-26)

### ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ (ì£¼ë³€ì„œë¹„ìŠ¤ ì´ˆê¸° ë¡œë“œ)

**ì¿¼ë¦¬**: `ST_Distance_Sphere(POINT(longitude, latitude), POINT(?, ?)) <= ?`

| í•­ëª© | ì¸¡ì •ê°’ (ë²”ìœ„) |
|------|------------|
| DB ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ | 198-368ms |
| ì¡°íšŒëœ ë ˆì½”ë“œ ìˆ˜ | 295ê°œ (ë°˜ê²½ ë‚´ ë°ì´í„°) |
| DTO ë³€í™˜ ì‹œê°„ | 0-22ms |
| ë³€í™˜ëœ ë ˆì½”ë“œ ìˆ˜ | 100ê°œ (ì œí•œ ì ìš©) |
| ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | 202-408ms (ì¿¼ë¦¬: 198-368ms, í•„í„°ë§: 0ms, DTOë³€í™˜: 0-22ms) |
| ì»¨íŠ¸ë¡¤ëŸ¬ ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | 202-412ms |

**ì¸¡ì • ì‚¬ë¡€**:
- ì¸¡ì • 1: ì¿¼ë¦¬ 207ms, ì „ì²´ 207ms, ì»¨íŠ¸ë¡¤ëŸ¬ 207ms
- ì¸¡ì • 2: ì¿¼ë¦¬ 198ms, ì „ì²´ 202ms, ì»¨íŠ¸ë¡¤ëŸ¬ 202m

### ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ ("ì´ ì§€ì—­ ê²€ìƒ‰" ë²„íŠ¼)

**ì¿¼ë¦¬**: `WHERE sigungu = ?`

| í•­ëª© | ì¸¡ì •ê°’ (ë²”ìœ„) |
|------|------------|
| DB ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ | **36-53ms** âœ… |
| ì¡°íšŒëœ ë ˆì½”ë“œ ìˆ˜ | 142-170ê°œ (ì‹œêµ°êµ¬ ë‹¨ìœ„) |
| DTO ë³€í™˜ ì‹œê°„ | 0ms |
| ë³€í™˜ëœ ë ˆì½”ë“œ ìˆ˜ | 142-170ê°œ |
| ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | **45-66ms** âœ… (ì¿¼ë¦¬: 36-53ms, í•„í„°ë§: 0ms, DTOë³€í™˜: 0ms) |
| ì»¨íŠ¸ë¡¤ëŸ¬ ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | **49-68ms** âœ… |

**ì¸¡ì • ì‚¬ë¡€**:
- ì¸¡ì • 1: ì¿¼ë¦¬ 53ms, ì „ì²´ 66ms, ì»¨íŠ¸ë¡¤ëŸ¬ 68ms (ì¡°íšŒ: 142ê°œ)
- ì¸¡ì • 2: ì¿¼ë¦¬ 36ms, ì „ì²´ 45ms, ì»¨íŠ¸ë¡¤ëŸ¬ 49ms (ì¡°íšŒ: 170ê°œ)

### ì‹œë„ ë‹¨ìœ„ ê²€ìƒ‰ (ì°¸ê³ ìš©, 2025-12-25 ì¸¡ì •)

**ì¿¼ë¦¬**: `WHERE sido = ?`

| í•­ëª© | ì¸¡ì •ê°’ |
|------|--------|
| DB ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ | 986-990ms âš ï¸ |
| ì¡°íšŒëœ ë ˆì½”ë“œ ìˆ˜ | 22,699ê°œ (ì‹œë„ ì „ì²´) |
| DTO ë³€í™˜ ì‹œê°„ | 9ms |
| ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | 1,016-1,038ms |

### ì„±ëŠ¥ ë¹„êµ ìš”ì•½

- âœ… **ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰**: 36-53ms (ì¿¼ë¦¬), 49-68ms (ì „ì²´ ì²˜ë¦¬) - **ê°€ì¥ íš¨ìœ¨ì **
- âš ï¸ **ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰**: 198-368ms (ì¿¼ë¦¬), 202-412ms (ì „ì²´ ì²˜ë¦¬) - ëŠë¦¬ê³  ì¼ê´€ì„± ë¬¸ì œ
- âš ï¸ **ì‹œë„ ë‹¨ìœ„ ê²€ìƒ‰**: 986-990ms - ëŠë¦¼ (ëŒ€ëŸ‰ ë°ì´í„°, ì°¸ê³ ìš©)

**ê²°ë¡ **: ì‹œêµ°êµ¬ ë‹¨ìœ„ ê²€ìƒ‰ì´ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ë³´ë‹¤ **ì•½ 5-6ë°° ë¹ ë¥´ê³ ** ì¼ê´€ì„±ë„ ìš°ìˆ˜í•¨

### ê°œì„  íš¨ê³¼

**ì„±ëŠ¥ ê°œì„ **:
- ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„: 198-368ms â†’ **36-53ms** (ì•½ 5-6ë°° í–¥ìƒ)
- ì „ì²´ ì²˜ë¦¬ ì‹œê°„: 202-412ms â†’ **49-68ms** (ì•½ 5-6ë°° í–¥ìƒ)
- ì¸ë±ìŠ¤ í™œìš©ìœ¼ë¡œ ë°ì´í„° ì¦ê°€ ì‹œì—ë„ ì„±ëŠ¥ ìœ ì§€
- ì¸¡ì •ê°’ ë³€ë™ í­ì´ ì‘ì•„ ì•ˆì •ì  (ì‹œêµ°êµ¬ ë‹¨ìœ„: 36-53ms, ìœ„ì¹˜ ê¸°ë°˜: 198-368ms)

**ì‚¬ìš©ì ê²½í—˜ ê°œì„ **:
- ê²€ìƒ‰ ê²°ê³¼ ì¼ê´€ì„± (ì‹œë„/ì‹œêµ°êµ¬ë¡œ í™•ì •)
- ì‚¬ìš©ì ì´í•´ ì‰¬ì›€ ("ì„œìš¸ ê°•ë‚¨êµ¬" ê²€ìƒ‰)
- ì´ì „ ì„œë¹„ìŠ¤ ìœ ì§€ (ê°™ì€ ì‹œë„/ì‹œêµ°êµ¬ ë‚´)

**êµ¬í˜„ ë‹¨ìˆœí™”**:
- ë³µì¡í•œ ì˜ì—­ í™•ì¥ ë¡œì§ ì œê±°
- ê²€ìƒ‰ ê¸°ì¤€ì  ì¶”ì  ë¡œì§ ë‹¨ìˆœí™”
- ìƒíƒœ ê´€ë¦¬ ê°„ì†Œí™”

---

## ğŸ“ ìš”ì•½

### ë¬¸ì œ ìƒí™©
1. ê²€ìƒ‰ ê¸°ì¤€ì  ë¶ˆì¼ì¹˜: ì´ˆê¸° ë¡œë“œì™€ ì§€ë„ ì´ë™ í›„ ê²€ìƒ‰ì˜ ê¸°ì¤€ì ì´ ë‹¤ë¦„
2. ì„±ëŠ¥ ì´ìŠˆ: ST_Distance_Sphere ì¿¼ë¦¬ ë³µì¡ (198-368ms ì¿¼ë¦¬, 202-412ms ì „ì²´ ì²˜ë¦¬)
3. êµ¬í˜„ ë³µì¡ë„: ì˜ì—­ í™•ì¥ ë¡œì§, ê²€ìƒ‰ ê¸°ì¤€ì  ì¶”ì  í•„ìš”

### í•´ê²° ë°©í–¥
1. **ê²€ìƒ‰ ê¸°ì¤€: ì‹œë„/ì‹œêµ°êµ¬ê¹Œì§€ (ì£¼ ê²€ìƒ‰ ë°©ì‹)**
   - ì´ˆê¸° ë¡œë“œ: ë‚´ ìœ„ì¹˜ â†’ ì—­ì§€ì˜¤ì½”ë”© â†’ ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ â†’ ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰
   - ì§€ë„ ì´ë™ í›„ ê²€ìƒ‰ ("ì´ ì§€ì—­ ê²€ìƒ‰" ë²„íŠ¼): ì§€ë„ ì¤‘ì‹¬ ì¢Œí‘œ â†’ ì—­ì§€ì˜¤ì½”ë”© â†’ ì‹œë„/ì‹œêµ°êµ¬ ì¶”ì¶œ â†’ ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰
   - **ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰(ST_Distance_Sphere)ì€ DB ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ**

2. **ìë©´ë™: ì •ë°€ í•„í„°ë¡œë§Œ ì‚¬ìš©**
   - DB ì¿¼ë¦¬ì—ì„œ ì œì™¸
   - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í•„í„°ë§ë§Œ
   - ìë©´ë™ ì¢Œí‘œ/ê²½ê³„ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

3. **ê±°ë¦¬ ê³„ì‚°: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì²˜ë¦¬ (ë³´ì¡° ê¸°ëŠ¥)**
   - ì‹œë„/ì‹œêµ°êµ¬ ê²€ìƒ‰ í›„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê±°ë¦¬ ê³„ì‚° (í‘œì‹œìš©)
   - ê±°ë¦¬ìˆœ ì •ë ¬ë„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì²˜ë¦¬
   - **ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ì€ í”„ë¡ íŠ¸ì—”ë“œ ê±°ë¦¬ ê³„ì‚°ìœ¼ë¡œë§Œ ì‚¬ìš© (ë³´ì¡° ê¸°ëŠ¥)**

### í•µì‹¬ ì›ì¹™
> **ì§€ë„ì™€ ê²€ìƒ‰ ê¸°ì¤€ì€ ì‹œêµ°êµ¬ê¹Œì§€**  
> **ìë©´ë™ì€ ì •ë°€ í•„í„°ë¡œë§Œ ì‚¬ìš©**  
> **ìë©´ë™ ì¢Œí‘œ/ê²½ê³„ëŠ” ì ˆëŒ€ ë“¤ê³  ê°€ì§€ ë§ ê²ƒ**

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [Location ë„ë©”ì¸ ìƒì„¸ ì„¤ëª…](../../domains/location.md)
- [í˜„ì¬ êµ¬í˜„ ë¶„ì„](./current-implementation-analysis.md)
